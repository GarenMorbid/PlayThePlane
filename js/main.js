$=function(id){return document.getElementById(id)};var mainObj=$("main");var supplyIcon=$("supplyIcon");var bgImage=$("bgImage");var changeBgImageBtn=0;var enemyPlaneTimer;var enemyPlaneMoveTimer;var enemyBigPlaneTimer;var enemyBigPlaneMoveTimer;var enemyBulletCreateTimer;var enemyBulletMoveTimer;var ctrlPlayTimer;var shootPlayTimer;var bulletMoveTimer;var supplyCreateTimer;var supplyMoveTimer;var supplyPersistTimer;var crashCheckTimer;var changeBgTimer;var killNum=$("killNum");var killScore=$("killScore");var playBloods=document.getElementsByClassName("playerBlood");var supplyTime=$("supplyTime");var playBloodNum=3;var gameOver=$("gameOver");var displayScore=$("displayScore");var sumbitScore=$("sumbitScore");var startMusic=$("startMusic");var bulletMusic=$("bulletMusic");var menuMusic=$("menuMusic");var pauseMusic=$("pauseMusic");var buttontMusic=$("buttontMusic");var historyMusic=$("historyMusic");var supplyMusic=$("supplyMusic");menuMusic.play();var buttons=document.getElementsByClassName("button");for(var i=0;i<buttons.length;i++){buttons[i].onmouseover=function(){buttontMusic.load();buttontMusic.play()}}var buttons1=document.getElementsByClassName("button1");for(var i=0;i<buttons1.length;i++){buttons1[i].onmouseover=function(){buttontMusic.load();buttontMusic.play()}}var historyGrades=document.getElementsByClassName("historyGrade");for(var i=0;i<historyGrades.length;i++){historyGrades[i].onmouseover=function(){historyMusic.play()}}var historyList=$("historyList");var menu=$("menu");var acqName=new Array("侯代全","伍红林","樊俊添","周鹏","曹鑫");var acqScore=new Array("999999","500","400","300","100");var submitBtn=false;var playerName;var count=-1;function confirmScore(){submitBtn=true;playerName=$("playerName");updatetheList(submitBtn,count);submitBtn=false}function updatetheList(isSubmit,i){if(isSubmit==true){acqScore[i]=killScore.innerHTML;acqName[i]=playerName.value}}function clearAll(){for(var i=0;i<smallPlaneArray.length;i++){mainObj.removeChild(smallPlaneArray[i].imgNode)}smallPlaneArray.splice(0,smallPlaneArray.length);for(var i=0;i<bigPlaneArray.length;i++){mainObj.removeChild(bigPlaneArray[i].imgNode)}bigPlaneArray.splice(0,bigPlaneArray.length);for(var i=0;i<2;i++){for(var j=0;j<bigBulletArray[i].length;j++){mainObj.removeChild(bigBulletArray[i][j].imgNode)}bigBulletArray[i].splice(0,bigBulletArray[i].length)}for(var i=0;i<bulletArray.length;i++){mainObj.removeChild(bulletArray[i].imgNode)}bulletArray.splice(0,bulletArray.length);for(var i=0;i<supplyArray.length;i++){mainObj.removeChild(supplyArray[i].imgNode)}supplyArray.splice(0,supplyArray.length);if(player!=null){mainObj.removeChild(player.imgNode);player=null}clearInterval(enemyPlaneTimer);clearInterval(enemyPlaneMoveTimer);clearInterval(enemyBigPlaneTimer);clearInterval(enemyShoot);clearInterval(enemyBigPlaneMoveTimer);clearInterval(enemyBulletMoveTimer);clearInterval(ctrlPlayTimer);clearInterval(shootPlayTimer);clearInterval(bulletMoveTimer);clearInterval(supplyCreateTimer);clearInterval(supplyMoveTimer);clearInterval(supplyPersistTimer);clearInterval(crashCheckTimer);clearInterval(changeBgTimer)}var aboutInformation=$("aboutInformation");function about(){aboutInformation.style.display="block"}function closeAbout(){aboutInformation.style.display="none"}function changeCheckPoint(){if(parseInt(killScore.innerHTML)>800){changeBgImageBtn=1;bgImage.src="image/bg2.jpg";for(var i=0;i<smallPlaneArray.length;i++){smallPlaneArray[i].imgNode.src="image/LiPlane.png"}for(var i=0;i<bigPlaneArray.length;i++){bigPlaneArray[i].imgNode.src="image/bigPlane2.png"}}if(parseInt(killScore.innerHTML)>2000){changeBgImageBtn=2;bgImage.src="image/bg3.png";for(var i=0;i<smallPlaneArray.length;i++){smallPlaneArray[i].imgNode.src="image/enemy2.png"}for(var i=0;i<bigPlaneArray.length;i++){bigPlaneArray[i].imgNode.src="image/bigPlane3.png"}}}function acpPlayerBlood(){if(playBloodNum!=0){playBloods[playBloodNum-1].src="image/blackBlood.png";playBloodNum--;bloodBtn=false;mainObj.removeChild(player.imgNode);player=null;if(doubleScoreBtn==true){player=new playerPlaneProto("image/XPlane.png",150,500,3)}else{player=new playerPlaneProto("image/my-plane.gif",150,500,3)}}else{if(playBloodNum==0){supplyTime.innerHTML="";supplyIcon.style.display="none";if(playerName!=null){var confirm=$("confirm");sumbitScore.removeChild(playerName);playerName=null;sumbitScore.removeChild(confirm)}for(var i=0;i<acqScore.length;i++){if(parseInt(killScore.innerHTML)>=parseInt(acqScore[i])){sumbitScore.innerHTML="<input id='playerName' type='text' value='请输入你得大名'> <input id='confirm' onclick='confirmScore()'type='button' value='确认'>";count=i;break}}displayScore.innerHTML=killScore.innerHTML+"分";bloodBtn=false;gameOver.style.display="block";clearAll()}}};