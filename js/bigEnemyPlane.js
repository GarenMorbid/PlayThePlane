var bigPlaneArray=[];var bigBulletArray=new Array(2);for(var i=0;i<bigBulletArray.length;i++){bigBulletArray[i]=new Array()}function bigPlaneProto(imgSrc,x,y,speed,bloods){this.imgNode=document.createElement("img");this.imgSrc=imgSrc;this.x=x;this.y=y;this.bloods=5;this.isDead=false;this.endTime=15;this.speed=speed;this.init=function(){this.imgNode.src=this.imgSrc;this.imgNode.style.position="absolute";this.imgNode.style.left=this.x+"px";this.imgNode.style.top=this.y+"px";mainObj.appendChild(this.imgNode)};this.init();this.move=function(){this.imgNode.style.top=parseInt(this.imgNode.style.top)+this.speed+"px"};this.shootBullet=function(){var newBigBulletLeft=new enemyBulletProto("image/bullet3.png",parseInt(this.imgNode.style.left)+30,parseInt(this.imgNode.style.top)+120,3);var newBigBulletRight=new enemyBulletProto("image/bullet3.png",parseInt(this.imgNode.style.left)+90,parseInt(this.imgNode.style.top)+120,3);bigBulletArray[0].push(newBigBulletLeft);bigBulletArray[1].push(newBigBulletRight)}}function createBigPlane(){if((parseInt(killNum.innerHTML)+1)%20==0){if(bigPlaneArray.length<2){if(changeBgImageBtn==1){var bigPlane=new bigPlaneProto("image/bigPlane2.png",parseInt(Math.random()*356),-parseInt(Math.random()*100+40),parseInt(Math.random()*5)+1);bigPlaneArray.push(bigPlane)}else{if(changeBgImageBtn==2){var bigPlane=new bigPlaneProto("image/bigPlane3.png",parseInt(Math.random()*356),-parseInt(Math.random()*100+40),parseInt(Math.random()*5)+1);bigPlaneArray.push(bigPlane)}else{var bigPlane=new bigPlaneProto("image/bigPlane1.png",parseInt(Math.random()*356),-parseInt(Math.random()*100+40),parseInt(Math.random()*5)+1);bigPlaneArray.push(bigPlane)}}}}}function enemyShoot(){if(player!=null){var playerLeft=parseInt(player.imgNode.style.left);var playerTop=parseInt(player.imgNode.style.top);for(var i=0;i<bigPlaneArray.length;i++){if(playerLeft>=parseInt(bigPlaneArray[i].imgNode.style.left)&&playerLeft+66<=parseInt(bigPlaneArray[i].imgNode.style.left)+128&&playerTop>parseInt(bigPlaneArray[i].imgNode.style.top)+128){bigPlaneArray[i].shootBullet()}}}}function enemyBulletMove(){for(var i=0;i<2;i++){for(var j=0;j<bigBulletArray[i].length;j++){bigBulletArray[i][j].move();if(parseInt(bigBulletArray[i][j].imgNode.style.top)>=590){mainObj.removeChild(bigBulletArray[i][j].imgNode);bigBulletArray[i].splice(j,1)}}}}function bigPlaneMove(){for(var i=0;i<bigPlaneArray.length;i++){if(bigPlaneArray[i].isDead==false){bigPlaneArray[i].move();if(parseInt(bigPlaneArray[i].imgNode.style.top)>=600){mainObj.removeChild(bigPlaneArray[i].imgNode);bigPlaneArray.splice(i,1)}}else{bigPlaneArray[i].endTime--;if(bigPlaneArray[i].endTime==0){mainObj.removeChild(bigPlaneArray[i].imgNode);bigPlaneArray.splice(i,1);if(bloodBtn==false){killNum.innerHTML=parseInt(killNum.innerHTML)+1;if(doubleScoreBtn==true){killScore.innerHTML=parseInt(killScore.innerHTML)+30*2}else{killScore.innerHTML=parseInt(killScore.innerHTML)+30}}else{if(bloodBtn==true){acpPlayerBlood()}}}}}};